# google_indexing_api

1. Проходим регистрацию в Google и выдаём на «техническую почту» права владельца по инструкции https://pixelplus.ru/samostoyatelno/stati/indeksatsiya/indexing-api-v-google.html

2. В папке, где лежит скрипт создаём XLSX-файл с названием проекта. Пример — project.xlsx

3. Первую колонку в таблице project.xlsx называем «urls», а в этой колонке ниже размещаем любое число адресов, которые нужно проиндексировать.

4. В файле скрипта указываем свой ключ и вписываем название проекта до точки. Пример — project, название должно совпадать с названием созданного файла с URLS!


# key = 'YOUR_KEY'  # УКАЗЫВАЕМ ИМЯ ФАЙЛА СВОЕГО API-КЛЮЧА, СОЗДАННЫЙ В GOOGLE CLOUD — СКАЧИВАЕМ ЕГО В ТУЖЕ ПАПКУ ЧТО И СКРИПТ.

# project_name = 'YOUR_NAME'  # УКАЗЫВАЕМ НАЗВАНИЕ ПРОЕКТА, ОНО ДОЛЖНО СОВПАДАТЬ С НАЗВАНИЕМ ФАЙЛА — В ЭТОМ ПРИМЕРЕ «project».

После запускаем скрипт и ждём, работает он не быстро.

Если всё сделано правильно, то консоль даст сообщение о том, сколько страниц отправлено на переиндексацию. В папке, где находится скрипт будет создан файл логов с названием проекта вида «project_logs.txt», в который записываются даты и количество отправленных страниц вида:

2023-02-24 — на переобход отправлено: 71 страниц
2023-03-01 — 0 страниц в таблице project.xlsx или сработал лимит

Уже отправленные страницы удаляются из таблицы, суточный лимит ~200 страниц. Для обхода суточного лимита можно создать несколько почт и ключей и дописать скрипт, чтобы он по каждому ключу посылал отдельный запрос.
